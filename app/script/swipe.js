function Swipe(e,a){"use strict";var t=function(){},s=function(n){setTimeout(n||t,0)},r={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))};if(e){var u,c,d,i,l=e.children[0];a=a||{};var v=parseInt(a.startSlide,10)||0,h=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var n,f,w=a.auto||0,E={},m={},p={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":case"touchcancel":this.end(n);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":s(this.transitionEnd(n));break;case"resize":s(o)}a.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];E={x:t.pageX,y:t.pageY,time:+new Date},f=void 0,m={},l.addEventListener("touchmove",this,!1),l.addEventListener("touchend",this,!1),l.addEventListener("touchcancel",this,!1)},move:function(n){if(!(1<n.touches.length||n.scale&&1!==n.scale)){a.disableScroll&&n.preventDefault();var t=n.touches[0];m={x:t.pageX-E.x,y:t.pageY-E.y},void 0===f&&(f=!!(f||Math.abs(m.x)<Math.abs(m.y))),f||(n.preventDefault(),k(),a.continuous?(y(b(v-1),m.x+c[b(v-1)],0),y(v,m.x+c[v],0),y(b(v+1),m.x+c[b(v+1)],0)):(m.x=m.x/(!v&&0<m.x||v==u.length-1&&m.x<0?Math.abs(m.x)/d+1:1),y(v-1,m.x+c[v-1],0),y(v,m.x+c[v],0),y(v+1,m.x+c[v+1],0)))}},end:function(n){var t=+new Date-E.time,e=Number(t)<250&&20<Math.abs(m.x)||Math.abs(m.x)>d/2,i=!v&&0<m.x||v==u.length-1&&m.x<0;a.continuous&&(i=!1);var o=m.x<0;f||(e&&!i?(v=o?(a.continuous?(T(b(v-1),-d,0),T(b(v+2),d,0)):T(v-1,-d,0),T(v,c[v]-d,h),T(b(v+1),c[b(v+1)]-d,h),b(v+1)):(a.continuous?(T(b(v+1),d,0),T(b(v-2),-d,0)):T(v+1,d,0),T(v,c[v]+d,h),T(b(v-1),c[b(v-1)]+d,h),b(v-1)),a.callback&&a.callback(v,u[v])):a.continuous?(T(b(v-1),-d,h),T(v,0,h),T(b(v+1),d,h)):(T(v-1,-d,h),T(v,0,h),T(v+1,d,h))),l.removeEventListener("touchmove",p,!1),l.removeEventListener("touchend",p,!1),l.removeEventListener("touchcancel",p,!1),w=a.auto},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==v&&(w&&L(),a.transitionEnd&&a.transitionEnd.call(n,v,u[v]))}};return o(),w&&L(),r.addEventListener?(r.touch&&l.addEventListener("touchstart",p,!1),r.transitions&&(l.addEventListener("webkitTransitionEnd",p,!1),l.addEventListener("msTransitionEnd",p,!1),l.addEventListener("oTransitionEnd",p,!1),l.addEventListener("otransitionend",p,!1),l.addEventListener("transitionend",p,!1)),window.addEventListener("resize",p,!1)):window.onresize=function(){o()},{setup:function(){o()},slide:function(n,t){k(),g(n,t)},prev:function(){k(),a.continuous?g(v-1):v&&g(v-1)},next:function(){k(),x()},stop:function(){k()},getPos:function(){return v},getNumSlides:function(){return i},kill:function(){k(),l.style.width="",l.style.left="";for(var n=u.length;n--;){var t=u[n];t.style.width="",t.style.left="",r.transitions&&y(n,0,0)}r.addEventListener?(l.removeEventListener("touchstart",p,!1),l.removeEventListener("webkitTransitionEnd",p,!1),l.removeEventListener("msTransitionEnd",p,!1),l.removeEventListener("oTransitionEnd",p,!1),l.removeEventListener("otransitionend",p,!1),l.removeEventListener("transitionend",p,!1),window.removeEventListener("resize",p,!1)):window.onresize=null}}}function o(){u=l.children,i=u.length,u.length<2&&(a.continuous=!1),r.transitions&&a.continuous&&u.length<3&&(l.appendChild(u[0].cloneNode(!0)),l.appendChild(l.children[1].cloneNode(!0)),u=l.children),c=new Array(u.length),d=e.getBoundingClientRect().width||e.offsetWidth,l.style.width=u.length*d+"px";for(var n=u.length;n--;){var t=u[n];t.style.width=d+"px",t.setAttribute("data-index",n),r.transitions&&(t.style.left=n*-d+"px",T(n,n<v?-d:v<n?d:0,0))}a.continuous&&r.transitions&&(T(b(v-1),-d,0),T(b(v+1),d,0)),r.transitions||(l.style.left=v*-d+"px"),e.style.visibility="visible"}function x(){a.continuous?g(v+1):v<u.length-1&&g(v+1)}function b(n){return(u.length+n%u.length)%u.length}function g(n,t){if(v!=n){if(r.transitions){var e=Math.abs(v-n)/(v-n);if(a.continuous){var i=e;(e=-c[b(n)]/d)!==i&&(n=-e*u.length+n)}for(var o=Math.abs(v-n)-1;o--;)T(b((v<n?n:v)-o-1),d*e,0);n=b(n),T(v,d*e,t||h),T(n,0,t||h),a.continuous&&T(b(n-e),-d*e,0)}else n=b(n),function(t,e,i){if(!i)return l.style.left=e+"px";var o=+new Date,s=setInterval(function(){var n=+new Date-o;if(i<n)return l.style.left=e+"px",w&&L(),a.transitionEnd&&a.transitionEnd.call(event,v,u[v]),void clearInterval(s);l.style.left=(e-t)*(Math.floor(n/i*100)/100)+t+"px"},4)}(v*-d,n*-d,t||h);v=n,s(a.callback&&a.callback(v,u[v]))}}function T(n,t,e){y(n,t,e),c[n]=t}function y(n,t,e){var i=u[n],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function L(){n=setTimeout(x,w)}function k(){w=0,clearTimeout(n)}}(window.jQuery||window.Zepto)&&function(t){t.fn.Swipe=function(n){return this.each(function(){t(this).data("Swipe",new Swipe(t(this)[0],n))})}}(window.jQuery||window.Zepto);